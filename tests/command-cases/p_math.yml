- name: past-max-localvar-pp
  setup: |
    @program test.muf
    1 i
    : main max_variable_count localvar ++ ;
    .
    c
    q
    @act test=here
    @link test=test.muf
  commands: |
    test
  expect:
    - "Program Error"
- name: past-max-var-pp
  setup: |
    @program test.muf
    1 i
    : main max_variable_count variable ++ ;
    .
    c
    q
    @act test=here
    @link test=test.muf
  commands: |
    test
  expect:
    - "Program Error"
- name: at-max-localvar-pp
  setup: |
    @program test.muf
    1 i
    : main
        max_variable_count 1 - localvar
        (stack contains localvar#max)
        42 over !
        (set to 42)
        dup ++
        (increment to 43)
        @
        (retrieve value)
        me @ swap intostr notify
    ;
    .
    c
    q
    @set test.muf=D
    @act test=here
    @link test=test.muf
  commands: |
    test
  expect:
    - "43"
